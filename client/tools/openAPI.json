{
  "openapi": "3.0.0",
  "paths": {
    "/api/meme": {
      "get": {
        "operationId": "AppController_getFile",
        "summary": "returns a meme image",
        "parameters": [
          {
            "name": "memeUrl",
            "required": true,
            "in": "query",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/StreamableFile" }
              }
            }
          }
        },
        "tags": ["APIs"]
      }
    },
    "/api/avatar": {
      "get": {
        "operationId": "AppController_getAvatarImage",
        "summary": "returns a avatar image",
        "parameters": [
          {
            "name": "avatarUrl",
            "required": true,
            "in": "query",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/StreamableFile" }
              }
            }
          }
        },
        "tags": ["APIs"]
      }
    },
    "/api/submitAnswer": {
      "put": {
        "operationId": "AppController_submitAnswer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SubmitAnswerDto" }
            }
          }
        },
        "responses": { "200": { "description": "" } },
        "tags": ["APIs"]
      }
    },
    "/api/createPlayer": {
      "post": {
        "operationId": "AppController_createPlayer",
        "summary": "Creates Player and returns player name and id",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CreatePlayerDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PlayerDto" }
              }
            }
          }
        },
        "tags": ["APIs"]
      }
    },
    "/api/createRoom": {
      "post": {
        "operationId": "AppController_createRoom",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CreateRoomDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RoomDto" }
              }
            }
          }
        },
        "tags": ["APIs"]
      }
    },
    "/api/addPlayerToRoom": {
      "post": {
        "operationId": "AppController_addPlayer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AddPlayerToRoomDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RoomDto" }
              }
            }
          }
        },
        "tags": ["APIs"]
      }
    },
    "/api/startGame": {
      "post": {
        "operationId": "AppController_startGame",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/GetRoomDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RoomDto" }
              }
            }
          }
        },
        "tags": ["APIs"]
      }
    },
    "/api/voteAnswer": {
      "put": {
        "operationId": "AppController_voteAnswer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/VoteAnswerDto" }
            }
          }
        },
        "responses": { "200": { "description": "" } },
        "tags": ["APIs"]
      }
    },
    "/api/closeRoom": {
      "delete": {
        "operationId": "AppController_closeRoom",
        "summary": "Closes room and deletes room and player from database",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/GetRoomDto" }
            }
          }
        },
        "responses": { "200": { "description": "" } },
        "tags": ["APIs"]
      }
    },
    "/api/allRooms": {
      "get": {
        "operationId": "AppController_getAllRooms",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/RoomDto" }
                }
              }
            }
          }
        },
        "tags": ["APIs"]
      }
    },
    "/api/sse": {
      "get": {
        "operationId": "AppController_sse",
        "summary": "Returns a Observable for the given roomId using server side events",
        "parameters": [
          {
            "name": "roomId",
            "required": true,
            "in": "query",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["APIs"]
      }
    }
  },
  "info": {
    "title": "Meme Answer Madness",
    "description": "The API description",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "StreamableFile": { "type": "object", "properties": {} },
      "SubmitAnswerDto": {
        "type": "object",
        "properties": {
          "roomId": { "type": "string" },
          "playerId": { "type": "string" },
          "round": { "type": "number" },
          "answer": { "type": "string" }
        },
        "required": ["roomId", "playerId", "round", "answer"]
      },
      "CreatePlayerDto": {
        "type": "object",
        "properties": { "name": { "type": "string" } },
        "required": ["name"]
      },
      "PlayerDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string", "example": "Michi" },
          "avatarUrl": { "type": "string" }
        },
        "required": ["id", "name", "avatarUrl"]
      },
      "CreateRoomDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "rounds": { "type": "number" },
          "playerId": { "type": "string" }
        },
        "required": ["name", "rounds", "playerId"]
      },
      "AnswerDto": {
        "type": "object",
        "properties": {
          "anserId": { "type": "string" },
          "playerId": { "type": "string" },
          "text": { "type": "string" },
          "score": { "type": "number" }
        },
        "required": ["anserId", "playerId", "text", "score"]
      },
      "RoundDto": {
        "type": "object",
        "properties": {
          "memeUrl": { "type": "string" },
          "answers": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/AnswerDto" }
          }
        },
        "required": ["memeUrl"]
      },
      "RoomDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "rounds": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/RoundDto" }
          },
          "players": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/PlayerDto" }
          },
          "numberOfRounds": { "type": "number" },
          "status": { "type": "string" }
        },
        "required": ["id", "name", "rounds", "numberOfRounds", "status"]
      },
      "AddPlayerToRoomDto": {
        "type": "object",
        "properties": {
          "roomId": { "type": "string" },
          "playerId": { "type": "string" }
        },
        "required": ["roomId", "playerId"]
      },
      "GetRoomDto": {
        "type": "object",
        "properties": { "roomId": { "type": "string" } },
        "required": ["roomId"]
      },
      "VoteAnswerDto": {
        "type": "object",
        "properties": {
          "roomId": { "type": "string" },
          "answerId": { "type": "string" }
        },
        "required": ["roomId", "answerId"]
      }
    }
  }
}
